class Map {

    constructor( saveCallback ) {
        this.save = saveCallback;
        this.default = {
            rebel: {
                path: '<path d="M912 1874 l-84 -94 21 -36 c26 -44 61 -145 61 -176 0 -21 -4 -19 -38 19 -20 23 -57 55 -81 72 l-45 31 -56 -62 -57 -63 47 -27 c100 -57 170 -177 193 -329 29 -205 -70 -375 -219 -373 -148 3 -308 174 -345 369 -29 156 27 352 156 539 51 75 48 75 -42 4 -420 -331 -491 -935 -159 -1355 125 -157 309 -278 503 -330 84 -23 118 -26 243 -26 99 0 168 5 217 16 344 78 588 312 687 658 101 354 11 720 -235 955 -63 60 -170 144 -182 144 -4 0 16 -28 43 -62 95 -118 170 -311 170 -435 -1 -121 -67 -286 -150 -372 -113 -118 -246 -140 -339 -55 -64 57 -85 120 -86 249 0 187 56 314 174 393 l59 39 -52 58 c-63 70 -71 70 -162 -20 -35 -34 -64 -58 -64 -51 0 27 31 123 55 173 27 54 27 55 8 76 -11 12-48 55 -83 95 -34 39 -66 72 -69 72 -3 -1 -44 -44 -89 -96z"/>',
                transform: 'scale(0.035,-0.035)'
            },
            empire: {
                path: '<path d="M875 1994 c-83 -14 -204 -47 -268 -75 -282 -123 -495 -370 -575 -668 -22 -84 -25 -116 -25 -251 0 -135 3 -167 25 -251 64 -239 217 -451 418 -582 183 -118 330 -161 550 -161 163 0 265 19 393 75 163 71 340 215 430 351 61 93 117 216 145 317 22 84 25 116 25 251 0 135 -3 167 -25 251 -65 239 -217 451 -419 582 -169 110 -317 156 -519 162 -69 2 -138 1 -155 -1z m286 -59 c164 -28 303 -91 430 -193 478 -383 477 -1107 -2 -1486 -379 -300 -917 -268 -1259 74 -404 403 -365 1061 83 1416 211 167 483 236 748 189z"/><path d="M810 1881 c-212 -45 -430 -190 -548 -363 l-32 -47 32 -17 c32 -17 33 -17 53 11 11 16 30 40 42 54 l21 26 32 -30 c35 -33 26 -36 124 46 75 64 171 115 261 140 57 15 60 18 57 45 -2 16 -4 38 -5 49 -2 17 7 21 66 29 l67 8 0 34 c0 33 -1 34 -42 33 -24 0 -81 -8 -128 -18z"/><path d="M1020 1866 l0 -34 68 -8 c74 -10 68 -1 59 -88 -2 -15 10 -22 58 -36 113 -33 200 -81 291 -164 29 -25 56 -46 60 -46 4 0 21 12 37 28 l29 27 21 -26 c12 -14 31 -38 42 -54 20 -28 21 -28 53 -11 l32 17 -32 47 c-83 123 -243 251 -390 314 -77 32 -227 68 -290 68 -36 0 -38 -1 -38 -34z"/><path d="M928 1563 c-21 -2 -38 -6 -38 -7 0 -2 11 -58 25 -126 14 -68 25 -126 25 -131 0 -4 -21 -17 -47 -29 -26 -11 -61 -32 -79 -45 -18 -14 -35 -25 -38 -25 -3 0 -49 38 -102 85 -86 75 -99 83 -113 71 -23 -21 -79 -116 -86 -147 -7 -28 -19 -22 195 -96 l45 -16 0 -97 0 -97 -123 -43 c-121 -42 -123 -43 -117 -69 8 -30 68 -133 88 -150 11 -8 35 8 111 74 53 47 98 85 100 85 2 0 28 -16 57 -36 29 -19 66 -38 81 -41 15 -3 28 -11 28 -18 0 -7 -11 -68 -25 -135 -14 -68 -23 -126 -20 -129 7 -7 203 -7 210 0 3 3 -6 61 -20 129 -14 67 -25 128 -25 135 0 7 13 15 28 18 15 3 52 22 81 41 29 20 55 36 57 36 2 0 47 -38 100 -85 76 -66 100 -82 111 -74 20 17 80 120 88 150 6 26 4 27 -117 69 l-123 43 0 97 0 97 45 16 c214 74 202 68 195 96 -7 31 -63 126 -86 147 -14 12 -27 4 -113 -71 -53 -47 -99 -85 -102 -85 -3 0 -20 11 -38 25 -18 13 -53 34 -79 45 -26 12 -47 25 -47 29 0 5 11 64 25 131 14 68 24 124 23 126 -6 6 -146 11 -180 7z"/><path d="M172 1358 c-57 -137 -67 -189 -67 -358 0 -169 10 -221 67 -357 l30 -73 31 16 c18 9 33 18 35 19 1 1 -9 26 -23 56 -14 30 -25 59 -25 65 0 6 20 17 44 24 l44 12 -17 56 c-21 76 -21 307 1 374 l15 46 -43 12 c-25 7 -44 19 -44 27 0 7 12 36 26 64 14 28 24 52 22 53 -34 22 -58 36 -62 36 -2 0 -18 -33 -34 -72z"/><path d="M1766 1415 c-10 -8 -23 -16 -29 -18 -5 -1 2 -26 17 -55 14 -28 26 -58 26 -65 0 -8 -19 -20 -43 -27 l-44 -12 15 -51 c21 -74 21 -294 0 -369 l-16 -56 44 -12 c24 -7 44 -18 44 -24 0 -6 -11 -35 -25 -65 -14 -30 -24 -55 -23 -56 2 -1 17 -10 35 -19 l31 -16 30 73 c57 136 67 188 67 357 0 119 -5 170 -19 220 -21 76 -75 210 -84 210 -4 0 -16 -7 -26 -15z"/><path d="M257 544 l-27 -15 32 -47 c83 -123 243 -251 390 -314 77 -32 227 -68 291 -68 35 0 37 1 37 34 l0 34 -67 8 c-75 10 -69 2 -60 87 2 15 -13 23 -68 41 -116 38 -209 91 -296 173 l-46 43 -28 -30 c-16 -17 -32 -30 -37 -30 -4 0 -24 23 -45 50 -20 28 -40 50 -43 50 -3 -1 -17 -8 -33 -16z"/> <path d="M1666 510 c-20 -27 -40 -50 -44 -50 -5 0 -21 13 -37 30 l-28 30 -46 -43 c-88 -82 -180 -136 -296 -173 -66 -21 -70 -24 -67 -51 2 -15 4 -37 5 -48 2 -17 -7 -21 -65 -29 l-68 -8 0 -34 c0 -33 2 -34 38 -34 63 0 213 36 290 68 147 63 296 181 380 301 l43 60 -30 16 c-17 8 -32 15 -35 15 -2 0 -20 -22 -40 -50z"/>',
                transform: 'scale(0.035,-0.035)'
            } ,
            storm: {
                path: '<path d="M810 1951 c-162 -36 -246 -79 -327 -163 -81 -87 -142 -231 -156 -371 -7 -71 9 -66 26 9 22 94 40 107 35 26 -1 -34 0 -62 4 -62 3 0 66 7 140 16 233 28 818 21 1046 -12 l42 -6 0 61 c0 34 4 60 9 57 4 -3 14 -34 21 -68 7 -35 17 -67 23 -73 18 -18 -2 135 -29 214 -85 257 -274 376 -614 387 -108 3 -152 0 -220 -15z"/><path d="M615 1323 c-207 -17 -280 -32 -317 -66 -24 -23 -25 -27 -16 -83 10 -64 -3 -166 -26 -213 -7 -14 -11 -31 -9 -37 2 -6 -14 -26 -35 -45 -55 -48 -97 -110 -112 -165 -23 -82 0 -134 123 -278 l33 -39 27 46 c32 53 88 90 162 107 28 6 70 22 94 36 24 13 46 22 48 20 11 -11 -82 -65 -130 -76 -145 -34 -205 -128 -165 -264 18 -60 109 -146 205 -192 68 -33 88 -38 172 -42 120 -5 174 8 216 54 31 34 32 34 122 34 87 0 91 -1 108 -26 9 -14 37 -35 62 -46 62 -27 221 -22 303 10 72 28 173 106 209 160 41 60 50 145 22 199 -27 54 -69 87 -127 102 -77 20 -120 41 -151 74 l-28 30 40 -26 c22 -14 74 -35 115 -46 83 -23 134 -59 166 -115 l21 -38 59 67 c88 99 104 130 104 198 0 72 -23 121 -94 197 -69 74 -91 140 -91 275 0 95 -1 101 -26 126 -31 30 -88 43 -269 59 -103 9 -716 12 -815 3z m253 -38 c11 -11 -82 -91 -159 -137 -78 -46 -142 -70 -162 -62 -18 6 -63 88 -71 129 -12 55 7 66 125 75 118 9 256 6 267 -5z m617 -4 l40 -7 -1 -49 c0 -52 -39 -130 -69 -141 -30 -12 -210 88 -282 156 -39 37 -41 47 -10 53 28 6 268 -3 322 -12z m-390 -86 c27 -11 66 -45 51 -45 -3 0 -20 9 -38 20 -51 31 -159 28 -218 -6 l-45 -26 25 26 c47 51 145 64 225 31z m-675 -140 c-16 -49 -8 -123 18 -174 12 -23 18 -41 13 -41 -16 0 -51 108 -51 154 0 43 18 111 27 102 3 -2 0 -21 -7 -41z m1186 -83 c-6 -50 -42 -139 -52 -129 -3 2 5 21 16 41 23 38 31 114 18 176 l-8 35 16 -35 c12 -25 14 -50 10 -88z m-1108 -10 c29 -4 150 32 217 64 l50 25 -30 -25 c-46 -40 -147 -86 -201 -94 -37 -5 -51 -12 -59 -30 -5 -12 -13 -22 -16 -22 -14 0 -29 64 -28 119 l0 56 22 -45 c15 -31 29 -46 45 -48z m915 17 c94 -30 115 -27 135 21 9 22 20 40 25 40 13 0 7 -90 -9 -128 l-15 -37 -15 28 c-12 22 -21 27 -51 27 -42 0 -190 69 -219 102 -17 18 -13 17 35 -7 29 -14 81 -35 114 -46z m-365 -103 c-3 -41 -3 -41 -45 -44 l-43 -3 0 45 c0 39 3 45 23 48 12 2 32 2 45 -1 20 -3 23 -8 20 -45z m-118 15 c0 -5 3 -22 6 -38 5 -24 2 -31 -21 -41 -35 -16 -35 -17 -35 24 0 23 6 42 18 50 20 16 32 18 32 5z m198 -55 c4 -40 3 -41 -33 -24 -25 11 -32 38 -19 73 11 29 48 -6 52 -49z m-276 -21 c4 -20 -1 -30 -23 -46 l-29 -20 0 27 c0 26 24 64 40 64 4 0 10 -11 12 -25z m336 5 c12 -12 22 -32 22 -46 l0 -25 -30 18 c-22 13 -30 25 -30 45 0 33 9 35 38 8z m-916 -73 c-24 -23 -32 -27 -32 -15 0 18 49 62 59 53 3 -3 -9 -20 -27 -38z m1473 18 c37 -37 30 -51 -9 -18 -19 15 -35 31 -35 36 -2 15 21 6 44 -18z m-975 -15 c0 -13 -14 -27 -40 -40 -57 -29 -69 -25 -22 9 22 16 43 34 47 40 10 16 15 13 15 -9z m-448 -22 c-23 -23 -35 -29 -43 -21 -7 7 -3 16 17 32 44 34 64 26 26 -11z m967 0 c23 -18 37 -34 32 -36 -17 -6 -91 38 -91 53 0 22 12 19 59 -17z m418 8 c15 -13 25 -27 21 -31 -7 -8 -66 34 -67 48 -2 14 18 7 46 -17z m-1317 -11 c0 -10 -55 -54 -67 -55 -21 0 -15 17 13 39 25 20 54 28 54 16z m1275 -11 c23 -15 35 -44 18 -44 -10 1 -63 47 -63 55 0 10 21 5 45 -11z m-1241 -22 c3 -5 -8 -22 -24 -37 -24 -23 -33 -26 -43 -16 -10 10 -6 17 18 37 32 26 41 29 49 16z m1210 -21 c18 -18 24 -31 17 -36 -13 -8 -70 34 -70 53 -1 21 24 13 53 -17z m-1172 -23 c3 -7 -10 -26 -29 -41 -29 -26 -34 -27 -40 -11 -4 12 2 24 21 41 31 26 42 29 48 11z m1132 -17 c35 -36 18 -51 -24 -21 -30 22 -35 31 -23 43 11 12 18 8 47 -22z m-528 -153 c3 -12 15 -29 26 -38 11 -9 22 -33 25 -60 4 -29 15 -53 30 -67 38 -36 26 -123 -17 -123 -11 0 -27 -11 -36 -25 -15 -23 -22 -25 -94 -25 -72 0 -77 1 -88 25 -6 14 -20 25 -30 25 -29 0 -42 21 -42 67 0 34 5 46 24 58 18 12 25 27 28 67 4 35 12 56 25 67 11 9 23 24 26 34 5 13 18 17 61 17 47 0 56 -3 62 -22z m-436 -173 c-14 -16 -7 -104 10 -136 12 -22 63 -34 88 -20 10 5 27 31 36 56 22 55 36 58 36 6 0 -95 -125 -152 -222 -100 -31 17 -58 70 -58 116 0 34 5 46 31 67 34 29 102 39 79 11z m832 -15 c28 -28 30 -36 25 -78 -13 -114 -165 -161 -250 -76 -30 29 -43 75 -29 100 8 15 14 10 33 -32 30 -62 66 -78 107 -47 15 12 26 27 24 33 -1 7 3 27 10 45 9 26 9 40 0 60 -11 24 -10 25 19 25 21 0 40 -10 61 -30z m-738 -72 c23 -38 -35 -78 -61 -42 -17 23 -16 29 3 49 20 19 43 16 58 -7z m616 8 c6 -8 10 -25 8 -38 -4 -34 -62 -34 -66 0 -6 42 33 68 58 38z"/><path d="M234 1174 c-14 -36 -15 -47 -5 -54 15 -9 6 -70 -11 -70 -11 0 -1 -79 12 -93 11 -13 37 62 41 118 4 81 0 145 -10 145 -5 0 -17 -21 -27 -46z"/><path d="M1736 1189 c-14 -70 1 -188 28 -225 12 -16 15 -13 24 32 9 40 8 50 -4 57 -17 9 -19 64 -3 69 8 3 5 19 -9 51 -12 26 -23 47 -25 47 -3 0 -7 -14 -11 -31z"/>',
                transform: 'scale(0.035,-0.035)'
            } ,
            rebel_storm: {
                path: '<path d="M810 1950 c-160 -34 -246 -77 -327 -162 -82 -88 -148 -244 -154 -370 -4 -71 7 -68 24 8 22 94 40 107 35 26 -1 -34 0 -62 4 -62 3 0 64 6 135 14 70 8 206 17 301 19 l172 5 0 -47 0 -48 -227 -6 c-314 -9 -427 -25 -475 -70 -24 -23 -25 -27 -16 -83 10 -65 -3 -167 -27 -214 -8 -15 -11 -31 -7 -34 3 -4 -15 -27 -41 -51 -94 -90 -130 -176 -107 -258 10 -38 87 -146 149 -210 5 -5 20 12 35 37 31 52 87 90 161 106 28 6 70 22 94 36 24 13 46 22 48 20 11 -11 -82 -65 -130 -76 -145 -34 -205 -128 -165 -264 18 -60 109 -146 205 -192 68 -33 88 -38 172 -42 120 -5 174 8 216 54 26 28 38 34 73 34 l42 0 0 -46 0 -47 81 7 c418 35 719 279 833 677 101 354 11 720 -235 955 -63 60 -170 144 -182 144 -4 0 16 -28 43 -62 95 -118 170 -311 170 -435 0 -69 -29 -177 -66 -250 -80 -159 -227 -255 -343 -223 -114 30 -180 161 -168 334 11 162 72 284 177 355 l58 38 -52 58 c-63 70 -71 70 -162 -20 -35 -34 -64 -58 -64 -51 0 27 31 123 55 173 27 54 27 55 8 76 -11 12 -48 55 -83 95 l-63 72 -56 -1 c-31 0 -94 -9 -141 -19z m58 -664 c11 -12 -81 -91 -159 -138 -78 -46 -142 -70 -162 -62 -18 6 -63 88 -71 129 -12 55 7 66 125 75 119 9 255 7 267 -4z m132 -81 c0 -10 -10 -15 -32 -15 -18 0 -53 -12 -78 -26 l-45 -26 25 26 c13 15 44 33 70 41 58 18 60 18 60 0z m-580 -150 c-16 -49 -8 -123 18 -174 12 -23 18 -41 13 -41 -16 0 -51 108 -51 154 0 43 18 111 27 102 3 -2 0 -21 -7 -41z m78 -93 c29 -4 150 32 217 64 l50 25 -30 -25 c-47 -40 -150 -88 -200 -94 -37 -4 -49 -10 -57 -28 -6 -13 -15 -24 -19 -24 -14 0 -29 63 -28 119 l0 56 22 -45 c15 -31 29 -46 45 -48z m502 -87 c0 -38 -3 -45 -20 -45 -17 0 -20 7 -20 45 0 38 3 45 20 45 17 0 20 -7 20 -45z m-70 16 c0 -5 3 -22 6 -38 5 -24 2 -31 -21 -41 -35 -16 -35 -17 -35 24 0 23 6 42 18 50 20 16 32 18 32 5z m-78 -76 c4 -20 -1 -30 -23 -46 l-29 -20 0 27 c0 26 24 64 40 64 4 0 10 -11 12 -25z m-580 -68 c-24 -23 -32 -27 -32 -15 0 18 49 62 59 53 3 -3 -9 -20 -27 -38z m498 3 c0 -13 -14 -27 -40 -40 -57 -29 -69 -25 -22 9 22 16 43 34 47 40 10 16 15 13 15 -9z m-448 -22 c-23 -23 -35 -29 -43 -21 -7 7 -3 16 17 32 44 34 64 26 26 -11z m43 -28 c-28 -29 -55 -39 -55 -21 0 14 50 51 68 51 11 0 8 -9 -13 -30z m59 -8 c3 -5 -8 -22 -24 -37 -24 -23 -33 -26 -43 -16 -10 10 -6 17 18 37 32 26 41 29 49 16z m38 -44 c3 -7 -10 -26 -29 -41 -29 -26 -34 -27 -40 -11 -4 12 2 24 23 41 33 26 40 28 46 11z m538 -328 l0 -180 -38 0 c-32 0 -41 5 -50 25 -6 14 -20 25 -30 25 -29 0 -42 21 -42 67 0 34 5 46 24 58 18 12 25 27 28 67 4 35 12 56 25 67 11 9 23 24 26 34 4 10 17 17 32 17 l25 0 0 -180z m-370 -15 c-14 -16 -7 -104 10 -136 12 -22 63 -34 88 -20 10 5 27 31 36 56 22 55 36 58 36 6 0 -75 -77 -130 -162 -117 -76 12 -118 60 -118 135 0 32 6 44 31 65 34 29 102 39 79 11z m94 -87 c23 -38 -35 -78 -61 -42 -17 23 -16 29 3 49 20 19 43 16 58 -7z"/><path d="M234 1174 c-14 -36 -15 -47 -5 -54 15 -9 6 -70 -11 -70 -11 0 -1 -80 12 -93 11 -12 39 70 42 123 3 76 -2 140 -11 140 -5 0 -17 -21 -27 -46z"/>',
                transform: 'scale(0.035,-0.035)'
            } ,
            chewi: {
                path: '<path d="M889 1996 c-2 -2 -20 -6 -39 -9 -19 -3 -46 -8 -60 -12 -49 -12 -55 -13 -70 -14 -13 -1 -13 -3 -1 -10 9 -6 25 -5 40 1 48 18 172 38 241 38 69 0 193 -20 241 -38 15 -6 31 -7 40 -1 12 7 12 9 -1 10 -8 0 -22 2 -30 4 -36 9 -61 15 -82 21 -27 7 -273 16 -279 10z"/><path d="M850 1965 c-107 -22 -118 -28 -117 -69 0 -19 4 -33 8 -30 11 7 20 -31 13 -51 -6 -14 -4 -16 6 -10 10 6 12 4 7 -9 -4 -10 -7 -21 -8 -24 0 -4 -9 17 -19 46 -11 29 -16 60 -13 69 4 11 3 14 -5 9 -15 -9 -15 -1 -1 25 9 18 7 19 -27 16 -21 -2 -40 -10 -42 -17 -3 -9 1 -11 14 -6 48 20 44 15 -19 -21 -37 -21 -92 -57 -122 -81 l-54 -42 103 -103 c65 -65 128 -141 175 -212 40 -60 78 -112 84 -114 5 -2 7 2 3 8 -4 6 -4 26 0 44 8 31 8 31 15 -18 11 -73 10 -125 0 -125 -13 0 -87 141 -83 157 2 8 -1 12 -6 11 -5 -2 -37 34 -71 79 -60 81 -215 243 -232 243 -14 0 -65 -59 -115 -132 -25 -38 -48 -68 -51 -68 -3 0 2 11 11 25 9 14 14 30 11 36 -4 5 -1 8 7 7 7 -2 12 5 12 14 -1 10 3 15 9 11 6 -3 7 -1 3 6 -5 7 -2 10 6 9 7 -2 12 5 12 14 -1 10 3 15 9 11 6 -4 7 -1 2 7 -6 9 -4 11 5 5 9 -5 11 -4 6 4 -6 9 -11 9 -22 0 -8 -6 -12 -14 -9 -17 3 -3 -4 -12 -15 -19 -11 -8 -18 -18 -15 -23 3 -4 -2 -11 -11 -14 -8 -3 -12 -10 -9 -16 3 -5 1 -10 -4 -10 -6 0 -11 -3 -10 -7 3 -19 -14 -52 -24 -46 -6 3 -7 1 -3 -5 4 -7 2 -12 -4 -12 -6 0 -8 -4 -5 -10 3 -5 1 -10 -5 -10 -6 0 -8 -4 -5 -10 3 -5 1 -10 -5 -10 -6 0 -8 -4 -5 -10 3 -5 1 -10 -5 -10 -6 0 -8 -5 -4 -12 4 -7 16 6 29 32 12 24 31 47 41 51 23 8 118 -37 109 -51 -4 -6 -27 1 -55 15 -27 14 -53 25 -58 25 -5 0 -19 -23 -32 -51 -14 -28 -26 -46 -28 -40 -2 6 -8 11 -13 11 -6 0 -7 -4 -4 -10 3 -5 1 -10 -5 -10 -6 0 -8 -4 -5 -10 3 -5 1 -10 -5 -10 -6 0 -9 -4 -5 -9 3 -5 1 -12 -5 -16 -6 -4 -8 -11 -5 -16 4 -5 2 -9 -4 -9 -6 0 -8 -7 -5 -15 4 -8 1 -15 -5 -15 -6 0 -10 -3 -10 -7 1 -5 0 -11 -1 -15 -1 -5 -4 -12 -5 -18 -1 -5 -4 -12 -5 -15 -1 -3 -4 -9 -5 -15 -1 -5 -4 -12 -5 -15 -1 -3 -4 -9 -5 -15 -1 -5 -4 -12 -5 -15 -1 -3 -4 -9 -5 -15 -1 -5 -3 -11 -5 -12 -1 -2 -3 -11 -6 -20 -2 -10 -6 -26 -8 -35 -3 -10 -5 -18 -6 -18 -2 0 -16 -58 -25 -105 -3 -14 -7 -36 -10 -50 -3 -14 -7 -36 -10 -50 -3 -14 -7 -35 -9 -46 -6 -32 -14 -82 -22 -149 -3 -33 -8 -69 -10 -80 -9 -47 -14 -325 -6 -325 5 0 7 39 6 88 l-2 87 7 -82 c5 -68 11 -87 31 -109 47 -50 66 -54 252 -54 l173 0 94 -74 93 -74 62 29 c33 16 66 29 71 29 6 0 54 -27 108 -60 l97 -60 98 60 c53 33 102 60 107 60 6 0 38 -13 71 -29 l62 -29 93 74 94 74 173 0 c186 0 205 4 252 54 20 22 26 41 31 109 l7 82 -2 -87 c-1 -49 1 -88 6 -88 7 0 3 281 -6 325 -2 11 -7 47 -10 80 -8 67 -16 117 -22 149 -2 11 -6 32 -9 46 -3 14 -7 36 -10 50 -3 14 -7 36 -10 50 -9 47 -23 105 -25 105 -1 0 -4 9 -6 20 -8 33 -12 50 -14 53 -2 1 -4 7 -5 12 -1 6 -4 12 -5 15 -1 3 -4 10 -5 15 -1 6 -4 12 -5 15 -1 3 -4 10 -5 '+
                    '15 -1 6 -4 12 -5 15 -1 3 -4 10 -5 15 -1 6 -4 13 -5 18 -1 4 -2 10 -1 15 0 4 -4 7 -10 7 -6 0 -9 7 -5 15 3 8 1 15 -5 15 -6 0 -8 4 -4 9 3 5 1 12 -5 16 -6 4 -8 11 -5 16 4 5 1 9 -5 9 -6 0 -8 5 -5 10 3 6 1 10 -5 10 -6 0 -8 5 -5 10 3 6 2 10 -4 10 -5 0 -11 -5 -13 -11 -2 -6 -14 12 -28 40 -13 28 -27 51 -32 51 -5 0 -31 -11 -58 -25 -28 -14 -51 -21 -55 -15 -9 14 86 59 109 51 10 -4 29 -27 41 -51 13 -26 25 -39 29 -32 4 7 2 12 -4 12 -6 0 -8 5 -5 10 3 6 1 10 -5 10 -6 0 -8 5 -5 10 3 6 1 10 -5 10 -6 0 -8 5 -5 10 3 6 1 10 -5 10 -6 0 -8 5 -4 12 4 6 3 8 -3 5 -10 -6 -27 27 -24 46 1 4 -4 7 -10 7 -5 0 -7 5 -4 10 3 6 -1 13 -9 16 -9 3 -14 10 -11 14 3 5 -4 15 -15 23 -11 7 -18 16 -15 19 3 3 -1 11 -9 17 -11 9 -16 9 -22 0 -5 -8 -3 -9 6 -4 9 6 11 4 5 -5 -5 -8 -4 -11 2 -7 6 4 10 -1 9 -11 0 -9 5 -16 12 -14 8 1 11 -2 6 -9 -4 -7 -3 -9 3 -6 6 4 10 -1 9 -11 0 -9 5 -16 12 -14 8 1 11 -2 7 -7 -3 -6 2 -22 11 -36 9 -14 14 -25 11 -25 -3 0 -26 30 -51 68 -51 74 -101 132 -115 132 -18 0 -187 -178 -243 -256 -31 -43 -75 -114 -98 -156 -23 -43 -46 -78 -51 -78 -10 0 -10 52 0 125 7 49 7 49 15 18 4 -18 5 -37 1 -43 -3 -5 -2 -10 3 -10 6 0 22 20 37 45 15 26 31 43 37 39 6 -4 9 -1 6 7 -8 23 71 128 179 236 l102 103 -54 42 c-30 24 -85 60 -122 81 -63 36 -67 41 -19 21 13 -5 17 -3 14 6 -2 7 -21 15 -42 17 -34 3 -36 2 -27 -16 14 -26 14 -34 -1 -25 -8 5 -9 2 -5 -9 3 -9 -2 -40 -12 -68 -13 -39 -19 -48 -24 -35 -10 24 -9 28 4 20 7 -4 9 0 5 13 -7 22 2 55 13 49 4 -3 8 11 8 30 1 41 -10 48 -125 70 -89 17 -204 17 -292 -1z m-69 -258 c-10 -19 -10 -17 -5 13 4 26 3 31 -5 20 -12 -17 -15 -1 -4 26 6 15 8 14 16 -10 6 -18 6 -35 -2 -49z m459 33 c0 -13 -1 -13 -11 0 -8 11 -9 6 -4 -20 5 -28 4 -32 -5 -17 -7 10 -9 31 -5 49 5 23 9 27 16 17 5 -8 9 -21 9 -29z m-445 -72 c-5 -26 -4 -30 5 -18 9 12 10 6 5 -25 -4 -29 -3 -36 4 -25 9 13 11 12 10 -5 0 -11 -4 -28 -8 -39 -5 -13 -11 1 -19 47 -7 36 -9 72 -6 81 10 27 16 18 9 -16z m413 -64 c-8 -47 -14 -61 -19 -48 -4 11 -8 28 -8 39 -1 17 1 18 10 5 7 -11 8 -4 4 25 -5 31 -4 37 5 25 9 -12 10 -7 5 20 -5 27 -4 31 5 18 8 -13 7 -36 -2 -84z m-377 -175 c-10 -31 -10 -29 -6 21 3 37 1 50 -5 40 -8 -12 -10 -12 -10 5 0 11 3 31 7 45 6 21 9 17 16 -26 5 -33 4 -64 -2 -85z m358 71 c1 -20 -1 -22 -9 -10 -6 10 -8 -3 -5 -40 4 -46 3 -50 -5 -25 -12 36 -2 152 11 120 4 -11 8 -31 8 -45z m-687 -80 c-1 -6 4 -10 12 -8 28 6 209 -142 194 -158 -4 -3 -39 22 -80 56 -40 34 -105 82 -145 107 -40 25 -70 50 -67 55 8 12 90 -38 86 -52z m1076 43 c-1 -4 -35 -29 -74 -54 -39 -26 -101 -72 -138 -104 -37 -31 -70 -54 -74 -51 -16 16 166 164 195 158 8 -2 12 1 9 7 -4 5 13 21 36 35 41 24 53 27 46 9z m-1384 -148 c-20 -49 -51 -143 -69 -209 -19 -67 -34 -114 -34 -105 -2 48 122 420 135 406 2 -1 -13 -43 -32 -92z m1631 -21 c31 -81 85 -271 84 -293 0 -9 -15 38 -34 104 -18 66 -47 156 -65 200 -41 104 -44 115 -26 84 8 -14 27 -57 41 -95z m-1001 -265 c-38 -42 -121 -10 -111 43 4 19 5 18 6 -7 1 -26 3 -27 12 -12 5 9 7 22 4 27 -4 6 12 10 39 10 44 0 51 -8 33 -37 -4 -6 -2 -15 4 -19 8 -5 9 -3 4 6 -5 9 -4 11 3 6 8 -5 12 4 13 26 2 31 2 32 6 5 3 -18 -2 -36 -13 -48z m358 17 c7 5 8 2 3 -6 -5 -9 -4 -11 4 -6 6 4 8 13 4 19 -18 29 -11 37 33 37 27 0 43 -4 39 -10 -3 -5 -1 -18 4 -27 9 -15 11 -14 12 12 1 25 2 26 6 7 6 -32 -23 -62 -60 -62 -41 0 -67 26 -65 64 l1 31 4 -33 c3 -20 8 -30 15 -26z m-1117 -220 c-14 -81 -26 -164 -26 -184 -2 -31 -3 -33 -6 -9 -3 15 1 60 7 100 18 122 42 248 46 244 2 -2 -7 -70 -21 -151z m1880 0 c14 -81 24 -164 23 -184 l-1 -37 -4 35 c-4 39 -39 256 -49 310 -4 19 -4 32 0 29 3 -3 17 -72 31 -153z m-842 80 c21 -8 47 -22 58 -32 26 -23 25 -54 -1 -54 -35 0 -77 -28 -92 -60 -12 -28 -16 -30 -68 -30 -52 0 -56 2 -68 30 -15 32 -57 60 -92 60 -26 0 -27 31 -1 54 31 28 91 45 161 45 36 0 82 -6 103 -13z m-375 -92 c-2 -9 -33 -27 -74 -43 -127 -50 -204 -121 -222 -206 -7 -34 -12 -40 -32 -40 -23 0 -25 4 -23 42 4 107 102 201 273 264 77 28 87 26 78 -17z m742 -39 c97 -60 150 -132 153 -208 2 -38 0 -42 -23 -42 -20 0 -25 6 -32 40 -18 85 -95 157 -222 206 -65 25 -71 30 -74 58 l-3 31 78 -28 c43 -16 99 -41 123 -57z m-1447 -286 c-4 -4 -6 20 -3 54 l5 62 3 -54 c2 -30 0 -58 -5 -62z m1959 39 c2 -25 0 -44 -4 -41 -5 2 -7 30 -7 61 1 62 6 53 11 -20z m-933 -26 c164 -40 236 -62 238 -72 3 -10 2 -11 -4 -4 -9 13 -464 124 -506 124 -17 0 -26 -4 -22 -10 4 -6 1 -9 -7 -8 -7 2 -12 -3 -10 -10 1 -8 -2 -11 -8 -7 -6 4 -10 -6 -10 -25 0 -18 4 -29 10 -25 6 4 7 -1 3 -11 -5 -14 -3 -16 11 -11 9 4 15 3 12 -2 -3 -5 6 -11 19 -14 14 -2 28 0 32 6 3 6 1 7 -5 3 -6 -4 -26 7 -44 24 l-33 30 28 25 c28 24 34 25 95 11 22 -6 49 -12 87 -21 19 -4 44 -10 85 -20 11 -3 29 -7 40 -10 11 -3 29 -7 40 -10 11 -3 29 -7 40 -10 30 -8 62 -15 89 -20 13 -2 29 -9 34 -14 13 -13 -448 -14 -494 -1 -41 12 -59 34 -59 72 0 38 32 68 73 68 17 -1 137 -26 266 -58z"/><path d="M555 1383 c6 -6 42 -36 80 -67 58 -48 62 -50 21 -12 -42 40 -129 107 -101 79z"/><path d="M1378 1336 c-36 -30 -70 -60 -74 -67 -4 -7 24 14 62 46 84 70 89 75 83 75 -3 0 -35 -25 -71 -54z"/><path d="M737 1044 c-13 -13 5 -24 41 -24 25 0 33 3 23 9 -7 5 -21 8 -30 6 -9 -1 -19 2 -22 7 -3 4 -8 5 -12 2z"/><path d="M1250 1041 c0 -5 -8 -8 -18 -6 -10 2 -25 -1 -33 -6 -10 -6 -3 -9 23 -9 37 0 57 13 38 25 -5 3 -10 2 -10 -4z"/><path d="M897 896 c-20 -7 -44 -19 -52 -26 -20 -16 -19 -40 0 -40 29 0 74 -29 92 -60 15 -26 23 -30 63 -30 40 0 48 4 63 30 19 31 63 60 92 60 27 0 13 32 -24 54 -44 26 -179 33 -234 12z m179 -7 c3 -5 10 -7 15 -4 5 4 9 1 9 -5 0 -7 6 -10 14 -7 7 3 20 -3 29 -14 16 -18 16 -19 -1 -20 -9 -1 -20 -1 -24 0 -5 0 -8 -3 -8 -9 0 -5 -6 -7 -13 -4 -7 2 -22 -6 -33 -18 -19 -23 -19 -23 1 -8 17 12 17 11 -1 -6 -13 -12 -20 -24 -17 -27 10 -10 -46 -19 -73 -13 -15 4 -24 9 -21 13 3 3 -4 15 -17 27 -18 17 -18 18 -1 6 20 -15 20 -15 1 8 -11 12 -26 20 -33 18 -7 -3 -13 -1 -13 4 0 6 -3 9 -7 9 -5 -1 -16 -1 -25 0 -17 1 -17 2 -1 20 9 11 22 17 29 14 8 -3 14 0 14 7 0 6 4 9 9 5 5 -3 12 -1 15 4 3 5 37 9 76 9 39 0 73 -4 76 -9z"/><path d="M634 815 c-153 -58 -241 -145 -247 -242 -1 -27 2 -38 14 -41 12 -2 18 7 22 33 14 83 109 172 232 216 36 13 65 27 65 31 0 8 -21 5 -37 -5 -6 -4 -15 -2 -19 4 -4 7 -3 9 4 5 6 -3 13 -2 17 4 4 6 10 8 15 5 5 -3 11 -1 15 5 10 15 -14 11 -81 -15z m22 -17 c4 -7 4 -10 -1 -6 -4 4 -14 3 -21 -3 -8 -7 -14 -6 -20 2 -4 7 -3 9 4 5 6 -3 13 -2 17 4 8 13 12 13 21 -2z m-51 -18 c4 -6 -1 -7 -11 -3 -12 4 -15 3 -10 -5 5 -8 1 -10 -10 -5 -11 4 -15 2 -11 -4 4 -6 -5 -19 -19 -28 -15 -9 -23 -12 -19 -5 5 8 3 11 -4 9 -7 -3 -11 -8 -9 -11 5 -12 -65 -78 -75 -71 -6 4 -8 0 -5 -9 4 -8 0 -15 -8 -15 -10 0 -10 7 4 30 23 40 99 97 119 90 11 -4 14 -2 9 5 -3 6 2 15 11 21 23 13 30 13 38 1z m-180 -170 c-3 -5 -11 -10 -16 -10 -6 0 -7 5 -4 10 3 6 11 10 16 10 6 0 7 -4 4 -10z m-11 -35 c-4 -8 -10 -12 -15 -9 -11 6 -2 24 11 24 5 0 7 -7 4 -15z"/><path d="M478 709 c-10 -5 -23 -20 -29 -32 -10 -18 -6 -17 20 7 39 37 42 45 9 25z"/><path d="M1285 830 c4 -6 10 -8 15 -5 5 3 11 1 15 -5 4 -6 11 -7 17 -4 7 4 8 2 4 -5 -4 -6 -13 -8 -19 -4 -16 10 -37 13 -37 5 0 -4 29 -18 65 -31 123 -44 218 -133 232 -216 4 -26 10 -35 22 -33 12 3 15 14 14 41 -6 98 -95 185 -249 243 -70 26 -89 29 -79 14z m146 -51 c11 -5 16 -15 13 -21 -5 -7 -2 -9 9 -5 20 7 96 -50 119 -90 14 -23 14 -30 4 -30 -8 0 -12 7 -8 15 3 9 1 13 -5 9 -10 -7 -80 59 -75 71 2 3 -2 8 -9 11 -7 2 -9 -1 -4 -9 4 -7 -4 -4 -19 5 -14 9 -23 22 -19 28 4 6 0 8 -11 4 -11 -5 -15 -3 -10 5 5 8 2 9 -10 5 -10 -4 -15 -3 -11 3 8 13 12 12 36 -1z m164 -169 c3 -5 2 -10 -4 -10 -5 0 -13 5 -16 10 -3 6 -2 10 4 10 5 0 13 -4 16 -10z m10 -29 c3 -5 1 -12 -4 -15 -5 -3 -11 1 -15 9 -6 16 9 21 19 6z"/><path d="M1500 717 c0 -2 14 -16 31 -33 26 -24 30 -25 20 -7 -10 19 -51 51 -51 40z"/><path d="M607 1909 c-9 -6 -15 -15 -11 -20 3 -6 -2 -9 -12 -7 -12 2 -18 -2 -16 -11 2 -8 -3 -11 -12 -8 -16 6 -109 -70 -101 -83 3 -4 -2 -13 -10 -20 -8 -7 -15 -9 -15 -4 0 4 -11 -3 -24 -15 -14 -13 -22 -30 -19 -38 5 -12 12 -8 30 16 14 17 29 31 35 31 17 0 120 -96 180 -167 96 -115 101 -120 66 -68 -18 27 -79 96 -135 152 l-103 101 48 40 c26 22 68 53 94 69 26 17 45 33 41 37 -8 8 -15 7 -36 -5z m-57 -52 c0 -1 -21 -20 -47 -41 l-48 -38 44 41 c40 38 51 46 51 38z m-120 -110 c0 -2 -10 -12 -22 -23 l-23 -19 19 23 c18 21 26 27 26 19z"/><path d="M1357 1914 c-4 -4 15 -20 41 -37 26 -16 68 -47 94 -69 l48 -40 -103 -101 c-56 -56 -117 -125 -135 -152 -35 -52 -30 -47 66 68 60 71 163 167 180 167 6 0 21 -14 35 -31 18 -24 25 -28 30 -16 3 8 -5 25 -19 38 -13 12 -24 19 -24 15 0 -5 -7 -3 -15 4 -8 7 -13 16 -10 20 8 13 -85 89 -101 83 -9 -3 -14 0 -12 8 2 9 -4 13 -16 11 -10 -2 -15 1 -12 7 4 5 -2 15 -13 20 -23 13 -26 13 -34 5z m168 -115 c11 -12 -1 -5 -27 16 -27 22 -48 41 -48 43 0 7 56 -36 75 -59z m70 -69 c10 -11 16 -20 13 -20 -3 0 -13 9 -23 20 -10 11 -16 20 -13 20 3 0 13 -9 23 -20z"/><path d="M780 1380 c6 -11 13 -20 16 -20 2 0 0 9 -6 20 -6 11 -13 20 -16 20 -2 0 0 -9 6 -20z"/><path d="M1210 1380 c-6 -11 -8 -20 -6 -20 3 0 10 9 16 20 6 11 8 20 6 20 -3 0 -10 -9 -16 -20z"/><path d="M809 1332 c7 -12 16 -20 21 -17 6 3 7 -1 4 -9 -3 -8 -1 -23 5 -33 8 -15 10 -10 11 25 0 28 -4 41 -10 37 -6 -4 -18 -1 -27 7 -15 12 -15 11 -4 -10z"/><path d="M1185 1339 c-4 -6 -13 -8 -21 -5 -11 4 -14 -5 -14 -37 1 -34 3 -39 11 -24 6 10 8 25 5 33 -3 8 -2 12 4 9 5 -3 14 4 20 15 11 20 6 29 -5 9z"/><path d="M16 291 c-4 -6 -2 -11 4 -11 6 0 9 -4 6 -9 -7 -11 27 -41 51 -46 10 -2 18 -4 18 -5 0 -6 64 -9 213 -10 96 -1 171 -4 168 -7 -11 -11 15 -32 32 -26 9 3 14 2 9 -2 -11 -13 23 -44 41 -38 10 4 13 2 8 -5 -9 -16 62 -67 96 -68 15 -1 28 3 28 8 0 5 5 6 10 3 6 -3 10 -1 10 5 0 7 7 10 15 6 8 -3 15 -1 15 5 0 6 4 7 10 4 5 -3 10 -1 10 5 0 6 5 8 10 5 6 -3 10 -1 10 5 0 6 9 4 23 -5 13 -8 27 -12 30 -8 4 3 7 2 7 -4 0 -11 40 -41 61 -45 7 -2 21 -11 31 -21 10 -10 23 -15 28 -12 6 4 10 2 10 -3 0 -4 14 -8 30 -8 17 0 30 4 30 8 0 5 4 7 10 3 5 -3 18 2 28 12 10 10 24 19 31 21 20 4 61 34 61 44 0 5 4 7 9 4 4 -3 16 1 26 8 16 11 21 11 33 0 7 -8 18 -12 23 -9 5 4 9 2 9 -4 0 -6 7 -8 15 -5 8 4 15 1 15 -6 0 -6 5 -8 10 -5 5 3 10 2 10 -3 0 -5 13 -9 28 -8 34 1 105 52 96 68 -5 7 -2 9 8 5 18 -6 52 25 41 38 -5 4 0 5 9 2 17 -6 43 15 32 26 -3 3 72 6 168 7 149 1 213 4 213 10 0 1 8 3 18 5 24 5 58 35 51 46 -3 5 0 9 6 9 6 0 8 5 4 11 -5 8 -12 5 -23 -9 -9 -11 -32 -30 -51 -41 -32 -19 -50 -21 -209 -21 l-173 0 -95 -74 -94 -74 -62 29 c-34 16 -66 29 -72 29 -5 0 -54 -27 -107 -60 l-98 -60 -100 62 -101 61 -69 -30 -69 -31 -94 74 -95 74 -173 0 c-159 0 -177 2 -209 21 -19 11 -42 30 -51 41 -11 14 -18 17 -23 9z m35 -38 c13 -16 12 -17 -3 -4 -17 13 -22 21 -14 21 2 0 10 -8 17 -17z m1919 13 c0 -2 -8 -10 -17 -17 -16 -13 -17 -12 -4 4 13 16 21 21 21 13z m-1429 -113 c13 -16 12 -17 -3 -4 -17 13 -22 21 -14 21 2 0 10 -8 17 -17z m939 13 c0 -2 -8 -10 -17 -17 -16 -13 -17 -12 -4 4 13 16 21 21 21 13z m-889 -53 c13 -16 12 -17 -3 -4 -10 7 -18 15 -18 17 0 8 8 3 21 -13z m839 13 c0 -2 -8 -10 -17 -17 -16 -13 -17 -12 -4 4 13 16 21 21 21 13z m-799 -43 c13 -16 12 -17 -3 -4 -17 13 -22 21 -14 21 2 0 10 -8 17 -17z m759 13 c0 -2 -8 -10 -17 -17 -16 -13 -17 -12 -4 4 13 16 21 21 21 13z"/>',
                transform: 'scale(0.035,-0.035)'
            } ,
            
            probe : {
                path: '<path d="M994 1901 c-17 -4 -37 -12 -45 -17 -20 -12 -42 -11 -60 4 -14 11 -17 10 -22 -2 -3 -8 -14 -14 -24 -13 -11 0 -62 -20 -116 -46 -53 -26 -102 -47 -110 -47 -15 0 -59 -44 -76 -77 -16 -31 -14 -59 9 -103 26 -52 48 -62 139 -65 91 -3 131 -13 131 -30 0 -22 -16 -26 -118 -31 -125 -6 -188 -20 -207 -47 -21 -30 -19 -37 10 -37 14 0 25 -4 25 -10 0 -5 -9 -10 -20 -10 -17 0 -19 -4 -14 -27 4 -16 16 -46 27 -68 11 -22 23 -46 27 -54 7 -15 20 -24 55 -37 28 -10 33 -11 55 -13 11 0 20 -8 20 -16 0 -8 -9 -19 -20 -25 -23 -13 -25 -32 -6 -63 21 -33 30 -331 10 -348 -12 -10 -12 -13 -1 -23 12 -10 53 -191 63 -280 9 -78 15 -100 30 -117 18 -20 44 -25 44 -10 0 6 -4 13 -10 16 -5 3 -10 14 -10 23 0 13 2 13 14 -4 8 -10 17 -16 21 -12 10 9 -23 68 -39 68 -9 0 -20 35 -35 108 -23 116 -27 207 -11 217 8 5 8 11 1 19 -7 8 -8 50 -3 119 l7 107 61 -43 c121 -84 114 -73 114 -178 0 -86 -2 -95 -31 -141 -20 -31 -29 -54 -24 -66 6 -15 8 -15 15 3 4 12 15 27 24 34 13 11 17 11 23 -4 4 -12 -1 -24 -16 -37 -13 -10 -17 -18 -10 -18 7 0 24 10 38 23 29 25 26 20 -48 -71 -34 -41 -42 -58 -37 -77 4 -17 13 -25 27 -25 12 0 59 -8 105 -17 73 -15 84 -20 89 -42 3 -13 2 -27 -4 -30 -18 -12 -16 -152 3 -194 20 -46 38 -39 30 12 -5 30 -3 39 11 45 11 4 15 12 11 23 -4 9 -1 20 6 24 10 7 11 12 1 29 -7 11 -13 38 -13 61 0 41 0 41 32 35 48 -9 52 -19 29 -65 l-21 -41 24 0 c28 0 47 34 48 85 0 11 4 36 9 56 9 34 12 37 57 43 76 10 87 26 17 26 -33 0 -74 4 -92 9 -30 9 -31 8 -37 -23 -7 -34 -45 -64 -65 -52 -19 12 -13 53 9 59 25 6 28 61 5 75 -14 7 -14 13 0 51 8 24 15 55 15 68 0 14 10 33 21 42 32 26 38 84 17 176 -22 99 -22 88 2 115 29 33 25 59 -16 101 -44 45 -38 63 16 54 35 -6 39 -4 43 17 l4 23 2 -24 c1 -22 42 -71 59 -71 4 0 12 -10 17 -22 6 -12 39 -42 75 -66 36 -25 74 -51 84 -58 19 -13 19 -15 3 -67 -9 -30 -17 -63 -17 -75 0 -15 -6 -22 -20 -22 -18 0 -64 -39 -56 -48 2 -2 16 4 30 14 36 23 44 11 10 -15 -23 -18 -24 -21 -7 -21 20 0 77 52 68 62 -7 7 32 197 45 220 11 20 14 45 4 35 -4 -3 -13 0 -21 8 -8 8 -26 15 -41 15 -15 0 -40 9 -56 19 -17 11 -33 18 -37 16 -12 -8 -40 45 -41 75 -1 41 21 90 42 90 50 0 78 21 98 73 41 112 42 114 18 125 -20 10 -20 11 7 11 15 1 27 7 27 14 0 15 -45 57 -60 57 -6 0 -5 8 2 20 8 12 25 21 43 21 16 1 -1 7 -39 13 -63 10 -68 12 -51 26 10 8 21 14 24 12 3 -1 7 8 8 20 1 13 5 35 9 50 11 48 -3 95 -32 102 -13 4 -30 18 -36 32 -9 18 -37 38 -94 65 -45 21 -91 39 -102 39 -11 0 -25 6 -31 14 -12 14 -87 37 -118 35 -10 -1 -32 -4 -49 -8z m-201 -773 c15 -2 23 -11 25 -29 3 -22 10 -28 37 -33 19 -4 43 -18 54 -31 10 -14 24 -25 31 -25 18 0 62 -38 51 -44 -9 -6 2 -50 54 -230 13 -46 13 -50 -10 -85 -13 -20 -35 -49 -48 -66 l-25 -30 -8 29 c-4 16 -4 105 -1 197 5 143 4 171 -9 184 -18 18 -31 19 -72 4 -24 -8 -37 -7 -62 6 -39 20 -50 50 -49 128 1 34 3 54 6 45 2 -9 14 -18 26 -20z m295 -530 c-8 -13 -26 -43 -39 -68 -55 -105 -61 -140 -8 -45 17 30 33 55 35 55 13 0 0 -43 -21 -68 -30 -36 -32 -68 -5 -77 12 -4 20 -15 20 -29 0 -20 -4 -22 -32 -18 -40 6 -50 19 -42 52 5 23 5 24 -13 8 -13 -12 -23 -14 -36 -7 -21 12 -22 42 -2 59 8 7 15 21 15 31 0 24 35 63 90 98 55 36 56 36 38 9z"/>',
                transform: 'scale(0.035,-0.035)'
            } ,
            intel: {
                path: '<path d="M794 1536 c-111 -29 -208 -71 -321 -138 -137 -81 -358 -269 -376 -320 -19 -56 271 -298 478 -399 265 -128 512 -142 769 -43 165 64 328 170 477 312 121 115 122 121 40 202 -140 137 -286 241 -444 315 -146 69 -219 87 -387 91 -129 4 -155 2 -236 -20z m305 -66 c41 -6 100 -17 132 -26 52 -15 62 -22 88 -63 61 -96 75 -204 41 -312 -26 -84 -77 -151 -150 -199 -74 -47 -141 -64 -230 -58 -278 20 -432 332 -281 570 25 40 35 47 90 62 115 32 204 40 310 26z m-533 -171 c-22 -72 -20 -173 4 -251 72 -234 307 -369 544 -314 91 21 159 62 227 133 110 115 151 265 115 418 -8 33 -13 61 -11 63 12 13 214 -132 314 -224 l64 -60 -89 -77 c-356 -312 -691 -399 -1031 -267 -144 55 -302 158 -442 287 l-64 59 79 73 c71 65 293 225 302 216 2 -1 -4 -27 -12 -56z"/><path d="M970 1370 c-48 -9 -72 -23 -108 -64 -28 -33 -52 -89 -52 -126 0 -62 53 -146 113 -176 42 -22 128 -21 173 3 21 11 52 36 68 57 29 35 31 44 31 116 0 72 -2 81 -31 116 -48 60 -121 88 -194 74z m112 -117 c23 -22 28 -35 28 -73 0 -37 -5 -51 -27 -72 -37 -35 -72 -43 -116 -25 -84 36 -87 149 -5 191 42 21 84 14 120 -21z"/>',
                transform: 'scale(0.035,-0.035)'
            }
        };
        this.clicksAllowed = true;

        this.initPlanetData();
        this.clickMode = 'none';
        this.body = document.getElementsByTagName('body')[0];

        this.svg = Snap("#mysvg");                 // WRAP SVG <svg id="mysvg"> (prep svg for snap svg library to use)
        this.initPlanets();


        /*let planet = document.getElementById('Dantooine');
        planet.innerHTML += '<g id="rebel01" transform="translate(60,718) '+this.default.rebel.transform+'" fill="#fff" stroke="none">'+this.default.rebel.path+'</g>';
        planet.innerHTML += '<g transform="translate(80,768) '+this.default.empire.transform+'" fill="#fff" stroke="none">'+this.default.empire.path+'</g>';
        planet.innerHTML += '<g transform="translate(40,808) '+this.default.probe.transform+'" fill="#fff" stroke="none">'+this.default.probe.path+'</g>';
        planet.innerHTML += '<g transform="translate(40,908) '+this.default.intel.transform+'" fill="#fff" stroke="none">'+this.default.intel.path+'</g>';
        planet.innerHTML += '<g transform="translate(20,958) '+this.default.storm.transform+'" fill="#fff" stroke="none">'+this.default.storm.path+'</g>';
        planet.innerHTML += '<g transform="translate(120,988) '+this.default.rebel_storm.transform+'" fill="#fff" stroke="none">'+this.default.rebel_storm.path+'</g>';*/

        //this.svg.select('#rebel01').transform('translate(120, 718) scale(0.035,-0.035)');

        this.applyFixedData();
    }

    initPlanets() {
        for(let name in this.planets) {
            let planetData = this.planets[name];
            this.planetData[name] = new Planet(name, planetData, this.svg, this.default);

            this.planetData[name].getButton().click(this.systemClick.bind(this, name));

        }
    }

    savePlanets() {
        let result = {};
        for(let name in this.planetData) {
            result[name] = this.planetData[name].save();
        }
        return result;
    }

    loadPlanets(data) {
        data = data || {};
        for(let name in data) {
            this.planetData[name].load(data[name]);
            this.planetData[name].updateLoyalty();
        }
    }

    toggleClicks(flag) {
        this.clicksAllowed = flag;
    }

    systemClick(name) {
        if(!this.clicksAllowed) {
            return ;
        }
        this.planetData[name][this.clickMode]();
        this.save();
    }

    setClickMode( value ) {
        // none
        // toggleLoyalty
        this.clickMode = value;
    }

    applyFixedData() {
        // Apply fixed data
        this.planetData['Coruscant'].toggleLoyalty();
    }

    reset() {
        for(let i in this.planetData) {
            this.planetData[i].reset();
        }
        // nothing here for now
        this.applyFixedData();
    }

    setMapMode() {
        this.body.className = 'loyalty';
        this.clickMode = 'toggleLoyalty';
        for(let i in this.planetData) {
            this.planetData[i].hideProbeData();
            this.planetData[i].updateLoyalty();
        }
    }

    setSabotageMode() {
        this.body.className = 'sabotage';
        this.clickMode = 'toggleSabotage';
    }

    setProbeMode() {
        this.body.className = 'probe';
        this.clickMode = 'toggleStatus';
        for(let i in this.planetData) {
            this.planetData[i].updateStatus();
        }
    }

    getResources(ids) {
        let resources = [];
        for(let i in this.planetData) {
            resources.push.apply(resources, this.planetData[i].getResources(ids));
        }
        if(ids.length == 1) {
            // Rebel base resources
            resources.push({type: 1, q: 1});
            resources.push({type: 4, q: 1});
        }
        return resources;
    }

    initPlanetData() {
        this.planetData = {};
        this.planets = {
            Kashyyyk: {
                bg: 'M787.7,742.7c12.5-6.7,25.5-12.9,38.8-18.5c55.3-23.1,118.6-36.7,188.6-40.6l-5.4-75.9 l-89.3-75.2l-14.5-76.5c-41.9,5.7-84.3,14.1-126.8,25.1l-1.7,0.4l-83-34.4l-0.9-1.9l-20.8-45.2c-20.6,6.4-41.5,14.3-62.4,23.3 L787.7,742.7z',
                loyalty: '805, 612',
                probe: '700, 580',
                resource: {
                    queue: 1,
                    types: [4,4],
                    x: 790,
                    y: 685
                }
            } ,
            Felucia: {
                bg: 'M274.7,217.8l-0.5,0.3l-134.5-29.3l-0.3-0.4L0,24.1v98L305.1,437l127.1,10.2l33.6,40.8 c20.8-13,42.9-25.9,65.7-38.2L348,180.2C302.2,201.2,275.1,217.5,274.7,217.8z',
                loyalty: '300, 352',
                probe: '200, 330',
                resource: {
                    queue: 1,
                    types: [4],
                    x: 330,
                    y: 415
                }
            } ,
            Toydaria: {
                bg: 'M634.5,292l67.6,147.1l75.9,31.5c52.8-13.5,105.2-23.1,156.9-28.6l-30-205 C841.7,245.1,725.1,260,634.5,292z',
                loyalty: '756, 387',
                probe: '670, 380',
                resource: {
                    queue: 2,
                    types: [2],
                    x: 770,
                    y: 440
                }
            } ,
            Naboo: {
                bg: 'M1445.2,626l32-47.7l3.5-65.9l0.2-0.3l97.2-153.9c-37.6-20.4-123.9-54.2-191.2-74.9 l-48.7,24.7l-89.7,281.8c33.2,9.8,94.6,35.9,102.9,41.6L1445.2,626z',
                loyalty: '1367, 490',
                probe: '1360, 380',
                resource: {
                    queue: 1,
                    types: [4,1],
                    x: 1360,
                    y: 540
                }
            } ,
            Dathomir: {
                bg: 'M527.4,747.5l30-90.7L437,519.2c-20.4,13.7-39,27.2-54.9,39.5l-1.6,1.2l-157.3-9.4 c-13.2,12.4-50.4,54.7-63.1,69.2l236.2,152.8L527.4,747.5z',
                loyalty: '362, 665',
                probe: '270, 665'
            } ,
            CatoNeimoidia: {
                bg: 'M1221.3,823.4l38.8-82.1l-45-69.2l-98.8-21l-46.4,41.9l-2.1,0 c-80.9-1.1-152.3,9.5-214.8,31.8l48.8,117.8c33.7-14.3,145.8-53.3,266.4-4.9L1221.3,823.4z',
                loyalty: '1110 780',
                probe: '1020, 770',
                resource: {
                    queue: 2,
                    types: [1,5],
                    x: 1120,
                    y: 805
                }
            } ,
            Bothawui: {
                bg: 'M1049.3,61.7v56l-0.5,0.4L907.9,235.9l30.1,205.7c51.4-5.4,101.9-6.7,151.2-4.2 l4.8-70.6l37.7-33.8l19.4-195.4l-81-76H1049.3z',
                loyalty: '992, 291',
                probe: '915, 290',
                resource: {
                    queue: 1,
                    types: [5],
                    x: 990,
                    y: 350
                }
            } ,
            NalHutta: {
                bg: 'M668.5,0l81,258.3c59.6-12.1,117.1-19.4,155.3-24.3l0.9-0.1l140.7-117.5V61.7h-29.1V0 H668.5z',
                loyalty: '820, 135',
                probe: '715, 135',
                resource: {
                    queue: 1,
                    types: [4,1],
                    x: 810,
                    y: 205
                }
            } ,
            Tatooine: {
                bg: 'M1077.4,54.2l84.7,79.4l-0.1,1c74.8,7,219.8,35.3,257.1,50.4l68.2-185h-409.9V54.2z',
                loyalty: '1268, 100',
                probe: '1180, 100'
            } ,
            Ryloth: {
                bg: 'M1456.1,93.2c116.6,30.1,238.4,90.1,301.3,123.6L1913.1,0h-422.7L1456.1,93.2z',
                loyalty: '1644, 110',
                probe: '1575, 110',
                resource: {
                    queue: 1,
                    types: [4],
                    x: 1680,
                    y: 155
                }
            } ,
            Geonosis: {
                bg: 'M1692.4,307l63.1-87.8c-63-33.5-184.4-93.2-300.5-123.2l-65.3,177.2 c67.6,20.8,154.5,54.9,193,75.6L1692.4,307z',
                loyalty: '1515, 255',
                probe: '1420, 250',
                resource: {
                    queue: 2,
                    types: [1,5],
                    x: 1540,
                    y: 310
                }
            } ,
            Rodia: {
                bg: 'M1141.7,338.2l-37.5,33.7l-4.5,66.2c61.2,3.9,120.4,14,176.5,30.3l53.4-167.7l56.4-28.6 l0.9,0.3l31.1-84.4c-37-14.9-181.7-43.2-256.3-50.2L1141.7,338.2z',
                loyalty: '1202, 325',
                probe: '1150, 240',
                resource: {
                    queue: 1,
                    types: [4],
                    x: 1200,
                    y: 380
                }
            } ,
            Dagobah: {
                bg: 'M1566.8,718.4l105.8-96.8l7.8-35.3l61-57.5l-2.1-28.9l0.5-0.5 c-29.9-27-109-75.2-115.4-79.1l-85.4,5.4l-55.3,87.6l-3.6,65.9l-31.9,47.6C1471.2,639.3,1548.8,699.6,1566.8,718.4z',
                loyalty: '1554, 590',
                probe: '1490, 580'
            } ,
            Mustafar: {
                bg: 'M1793.8,720.8l0.4-0.2l125.9-81.4V472.3l-112.7,8.8l-117.4,110.6l-7.8,35.3l-1.2,1.1 l-167.8,153.6l66.5,11.9l98.5-74.2l0.7,0.2c27,6.8,51.7,20.1,73.4,31.8c2,1.1,4,2.2,6,3.2l28.7-18.1L1793.8,720.8z',
                loyalty: '1754, 640',
                probe: '1680, 650',
                resource: {
                    queue: 2,
                    types: [1,2],
                    x: 1710,
                    y: 695
                }
            } ,
            Bespin: {
                bg: 'M1750.7,754.2c-22.4-12.1-45.6-24.6-72-31.3l-98.4,74.1l-70-12.5l-52,47.7 c37.6,46.4,63.8,97.3,77.8,150.7l275.7-125c-12.3-29.3-33.6-70.9-54.5-100C1755.1,756.5,1752.9,755.3,1750.7,754.2z',
                loyalty: '1628, 876',
                probe: '1550, 870',
                resource: {
                    queue: 1,
                    types: [5],
                    x: 1590,
                    y: 915
                }
            } ,
            Hoth: {
                bg: 'M1796.1,722.8l-6.9,15.9l-28.9,18.2c21.4,30.1,43,72.7,55.1,101.9l0.2,0.4l0,0.4 l-12.7,103.2c10.2,32.5,14.9,90.8,14.5,117.2H1920V642.7L1796.1,722.8z',
                loyalty: '1825, 834',
                probe: '1775, 800'
            } ,
            Endor: {
                bg: 'M1536.8,985.6c7.8,30.8,11.5,62.4,11.1,94.4h266.5c0.4-26.2-4.3-84.5-14.4-116.6 l-0.1-0.3l12.6-102.4L1536.8,985.6z',
                loyalty: '1651, 1035',
                probe: '1570, 1050'
            } ,
            Sullust: {
                bg: 'M1422,851l142.6-130.6c-17.4-18.3-98.2-80.9-118.9-91.4l-95.3,5.5l-0.5-0.4 c-4.9-4-68.1-31.4-102.4-41.5l-23.6,74l43.2,66.4C1329.6,761.9,1382.3,802.2,1422,851z',
                loyalty: '1381, 744',
                probe: '1300, 720',
                resource: {
                    queue: 2,
                    types: [4,6],
                    x: 1380,
                    y: 795
                }
            } ,
            Corellia: {
                bg: 'M1492.6,1080c1.8-142.1-85.8-270.9-229.9-337.4l-39.4,83.3l-0.7,0.2L1168,841l-0.5-0.2 c-10.8-4.4-21.6-8-32.3-11.1l-12.2,56.9c42.8,13.5,79.5,37.4,104.1,67.8c28.4,35.2,40.7,78.5,35.6,125.6H1492.6z',
                loyalty: '1290, 935',
                probe: '1180, 920',
                resource: {
                    queue: 3,
                    types: [1,3],
                    x: 1300,
                    y: 1020
                }
            } ,
            Malastare: {
                bg: 'M908.8,455.7l14.3,75.3l89.5,75.4l5.5,77.2c15.6-0.8,31.6-1.1,47.8-0.9l47.3-42.8 l101.6,21.5l58.3-183C1161.1,446,1037.2,438.5,908.8,455.7z',
                loyalty: '1086, 572',
                probe: '980, 570',
                resource: {
                    queue: 1,
                    types: [4],
                    x: 1150,
                    y: 630
                }
            } ,
            Alderaan: {
                bg: 'M831.3,1000.9c50.1-114.3,180.1-145.4,282.8-116.9c2,0.6,4,1.1,6,1.8l12.2-56.8 c-107.5-29.4-202.2,4.8-230.8,17.1l-1.4,0.6l-0.6-1.4l-49.4-119.3c-76,27.7-138.8,73.1-189.8,136.6l159.2,139.4L831.3,1000.9z',
                loyalty: '777, 882',
                probe: '690, 880',
                resource: {
                    queue: 1,
                    types: [4],
                    x: 790,
                    y: 940
                }
            } ,
            Mandalore: {
                bg: 'M530.2,748.6l122.2,107c37.3-46.3,81.7-83.7,132.6-111.5L607.4,424.6 c-59.8,25.9-119.1,60.2-167.9,92.9l121.3,138.6L530.2,748.6z',
                loyalty: '616, 696',
                probe: '530, 640',
                resource: {
                    queue: 1,
                    types: [4,1],
                    x: 600,
                    y: 770
                }
            } ,
            Kessel: {
                bg: 'M519.2,41l-17.7,81.5l36.7,73l69.6,38.5l25.4,55.3c35.3-12.5,74.6-22.4,113.2-30.3 L665.3,0H500.4L519.2,41z',
                loyalty: '577, 150',
                probe: '500, 150',
                resource: {
                    queue: 1,
                    types: [4],
                    x: 620,
                    y: 210
                }
            } ,
            MonCalamari: {
                bg: 'M141.3,186.1l132.3,28.8c6.8-4,78.8-46,184.8-81.5l5.6-80.1L439.4,0H0v19.5L141.3,186.1z',
                loyalty: '225, 120',
                probe: '100, 100',
                resource: {
                    queue: 3,
                    types: [1,3],
                    x: 210,
                    y: 175
                }
            } ,
            Utapau: {
                bg: 'M1736,264.5l-36.8,51.2l-117.3,44.6l-1.1-0.6l-39.7,62.9l84.2-5.3l0.4,0.2 c0.9,0.5,85.1,51.5,116.4,79.7l54.3-55.3l120.3-9.4l3.4-2.7V74.1L1784.2,246L1736,264.5z',
                loyalty: '1763, 377',
                probe: '1850, 377',
                resource: {
                    queue: 3,
                    types: [2,3],
                    x: 1690,
                    y: 440
                }
            } ,
            Saleucami: {
                bg: 'M350.8,178.9l183.4,269.5c43.6-23.3,89.7-44,134-58l-68.5-149.1L530.3,203l-37-73.5 l-35.3,11l0.3-3.9C416.4,150.7,380,165.7,350.8,178.9z',
                loyalty: '497, 325',
                probe: '425, 325',
                resource: {
                    queue: 1,
                    types: [5],
                    x: 530,
                    y: 380
                }
            } ,
            Yavin: {
                bg: 'M303.7,439.9L0,126.4v317.7l184.6,132.3c13.6-15,27.1-29.7,33.3-35.2l1.6-1.4l157.7,9.4 c23.8-18.3,53.2-39,86-59.5l-32.6-39.5L303.7,439.9z',
                loyalty: '125, 460',
                probe: '40, 460'
            } ,
            Ilum: {
                bg: 'M674,1051.2l-160.5-68.8l-0.2-0.2l-46.6-51.5l-79.8-37.1l-86.1,68.9 c-1.2,6.5-13.1,69.5-13.4,117.6h387.5C674.1,1068.1,674,1054.9,674,1051.2z',
                loyalty: '380, 1032',
                probe: '300, 1032'
            } ,
            OrdMantell: {
                bg: 'M807.4,1005.3L555.6,784.8c-22.1,23.6-67.3,83.8-86.3,144.3l46,50.9l161.7,69.3v1 c0,0.2,0,16,0.9,29.8h123.7C797.1,1037.5,803.9,1014.1,807.4,1005.3z',
                loyalty: '560, 960',
                probe: '480, 960',
                resource: {
                    queue: 2,
                    types: [2,5],
                    x: 640,
                    y: 1010
                }
            } ,
            Dantooine : {
                bg: 'M122.6,969.6l-17.8-36.9l0.1-0.5c29.3-118.6,88-199.8,126.9-253.6L0,528.6V1080h111.5C113.2,1024,121.7,975,122.6,969.6z',
                loyalty: '55,716',
                probe: '60,820'
            },
            Mygeeto: {
                bg: 'M114.5,1080h170c0.3-50.8,13.4-118,13.5-118.7l0.1-0.5l0.4-0.3l88-70.4l80.2,37.3 c19.2-60.6,64.4-120.8,86.6-144.5l-27.6-24.2l-131.5,25L234.4,680.2c-38.8,53.5-97.2,134.3-126.4,252.1l17.7,36.8l-0.1,0.5 C125.5,970.2,116.3,1021.2,114.5,1080z',
                loyalty: '244,861',
                probe: '360,861',
                resource: {
                    queue: 2,
                    types: [1,6],
                    x: 200,
                    y: 930
                }
            },
            Coruscant: {
                bg: 'M1113.3,886.9c-101.8-28.2-230.5,2.6-279.7,116.1l-0.4,0.8l-14,1.2l-0.9,1.6 c-0.1,0.2-11.8,22.1-6.2,73.5h447.5C1271.7,970.9,1188.8,907.8,1113.3,886.9z',
                loyalty: '1000,1005',
                probe: '-1000,-1000',
                resource: {
                    queue: 1,
                    types: [4],
                    x: 1000,
                    y: 1065
                } ,
                const_loyalty: 4
            }
        };

        /**
         * Resources
         *
         * Blue
         * 1   Triangle
         * 2   Circle
         * 3   Square
         * Orange
         * 4   Triangle
         * 5   Circle
         * 6   Square
         */
    }
}

